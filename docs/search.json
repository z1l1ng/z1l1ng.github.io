[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About Me:",
    "section": "",
    "text": "Hi! I’m Ziling, however most know me as Z! I’m currently a senior math major with a statistics and data science concentration at St. Olaf College. I’m also #2 on the NCAA women’s basketball team here. Outside of my commitments as a college student I love socializing with friends, going to sporting events and trying new foods! This is a place where I’ll be sharing some of my work!"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "About Me:",
    "section": "Education",
    "text": "Education\nSt. Olaf College | Northfield, MN  B.A in Mathematics | Sept 2022 - May 2025\nPortland Community College | Portland, OR  Transfer | Sept 2021 - June 2022"
  },
  {
    "objectID": "index.html#experience",
    "href": "index.html#experience",
    "title": "About Me:",
    "section": "Experience",
    "text": "Experience\nIncoming Analytics LDP Associate  Ameriprise Financial | Minneapolis, MN | June 2024\nData Science 1 Tutor  St. Olaf College | Northfield, MN | Sept 2023 - Present\nService Desk Intern  Cambria | Eden Praire, MN | May 2023 - August 2023"
  },
  {
    "objectID": "index.html#ziling-zhen",
    "href": "index.html#ziling-zhen",
    "title": "About Me:",
    "section": "",
    "text": "Hi! I’m Ziling, however most know me as Z! I’m currently a senior math major with a statistics and data science concentration at St. Olaf College. I’m also #2 on the NCAA women’s basketball team here. Outside of my commitments as a college student I love socializing with friends, going to sporting events and trying new foods! This is a place where I’ll be sharing some of my work!"
  },
  {
    "objectID": "MiniProject1.html",
    "href": "MiniProject1.html",
    "title": "Creating Informative Maps",
    "section": "",
    "text": "This was a mini-project done for SDS 264 - Data Science 2, Fall of 2023. To view the qmd, click here."
  },
  {
    "objectID": "MiniProject1.html#load-in-libraries-datasets",
    "href": "MiniProject1.html#load-in-libraries-datasets",
    "title": "Creating Informative Maps",
    "section": "Load in Libraries & Datasets",
    "text": "Load in Libraries & Datasets\n\n# Load in libraries\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(maps)\n\n\nAttaching package: 'maps'\n\nThe following object is masked from 'package:purrr':\n\n    map\n\nlibrary(viridis)\n\nLoading required package: viridisLite\n\nAttaching package: 'viridis'\n\nThe following object is masked from 'package:maps':\n\n    unemp\n\nlibrary(statebins)\nlibrary(leaflet)\nlibrary(sf)\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(htmltools)\nlibrary(glue)\nlibrary(readr)\n\n\n# Load in datasets\ndecennial_census10 &lt;- read_csv(\"~/SDS264/Class Files/00_Data/DECENNIALCD1162010.P1-Data.csv\")\n\nNew names:\nRows: 53 Columns: 4\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(3): GEO_ID, NAME, P001001 lgl (1): ...4\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -&gt; `...4`\n\ndecennial_census20 &lt;- read_csv(\"~/SDS264/Class Files/00_Data/DECENNIALCD1182020.P1-Data.csv\")\n\nNew names:\nRows: 53 Columns: 4\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(3): GEO_ID, NAME, P1_001N lgl (1): ...4\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -&gt; `...4`\n\nmarijuana_laws2024 &lt;- read_csv(\"~/SDS264/Class Files/00_Data/marijuana-laws-by-state-2024.csv\")\n\nRows: 51 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): state, LegalStatus, Medicinal, Decriminalized\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n# Load in states sf\nstates &lt;- read_sf(\"https://rstudio.github.io/leaflet/json/us-states.geojson\")\nstates\n\nSimple feature collection with 52 features and 3 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -188.9049 ymin: 17.92956 xmax: -65.6268 ymax: 71.35163\nGeodetic CRS:  WGS 84\n# A tibble: 52 × 4\n   id    name                  density                                  geometry\n   &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;                        &lt;MULTIPOLYGON [°]&gt;\n 1 01    Alabama                 94.6  (((-87.3593 35.00118, -85.60667 34.98475…\n 2 02    Alaska                   1.26 (((-131.602 55.11798, -131.5692 55.28229…\n 3 04    Arizona                 57.0  (((-109.0425 37.00026, -109.048 31.33163…\n 4 05    Arkansas                56.4  (((-94.47384 36.50186, -90.15254 36.4963…\n 5 06    California             242.   (((-123.2333 42.00619, -122.3789 42.0116…\n 6 08    Colorado                49.3  (((-107.9197 41.00391, -105.729 40.99843…\n 7 09    Connecticut            739.   (((-73.05353 42.03905, -71.79931 42.0226…\n 8 10    Delaware               464.   (((-75.41409 39.80446, -75.5072 39.68396…\n 9 11    District of Columbia 10065    (((-77.03526 38.99387, -76.90929 38.8952…\n10 12    Florida                353.   (((-85.49714 30.99754, -85.00421 31.0030…\n# ℹ 42 more rows"
  },
  {
    "objectID": "MiniProject1.html#joining-datasets-calculating-percent-change",
    "href": "MiniProject1.html#joining-datasets-calculating-percent-change",
    "title": "Creating Informative Maps",
    "section": "Joining Datasets & Calculating Percent Change",
    "text": "Joining Datasets & Calculating Percent Change\n\n# Data wrangling\ncensus_sf &lt;- decennial_census10 |&gt;\n  left_join(decennial_census20, join_by(NAME)) |&gt;\n  rename(name = NAME,\n         population20 = P1_001N,\n         population10 = P001001) |&gt;\n  select(name, \n         population10, \n         population20) |&gt;\n  filter(!(name %in% c(\"Alaska\", \n                       \"Hawaii\", \n                       \"District of Columbia\", \n                       \"Puerto Rico\", \n                       \"Label for GEO_ID\"))\n  ) |&gt;\n  mutate(population10 = as.double(population10),\n         population20 = as.double(population20),\n         perc_change = (population20 - population10)/abs(population10) * 100,\n         perc_change = round(perc_change, 3)) |&gt;\n  left_join(states, join_by(name)) |&gt;\n  st_as_sf()\n\ncensus_sf\n\nSimple feature collection with 48 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -124.7066 ymin: 25.12078 xmax: -66.9796 ymax: 49.38362\nGeodetic CRS:  WGS 84\n# A tibble: 48 × 7\n   name        population10 population20 perc_change id    density\n   &lt;chr&gt;              &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n 1 Alabama          4779736      5024279       5.12  01       94.6\n 2 Arizona          6392017      7151502      11.9   04       57.0\n 3 Arkansas         2915918      3011524       3.28  05       56.4\n 4 California      37253956     39538223       6.13  06      242. \n 5 Colorado         5029196      5773714      14.8   08       49.3\n 6 Connecticut      3574097      3605944       0.891 09      739. \n 7 Delaware          897934       989948      10.2   10      464. \n 8 Florida         18801310     21538187      14.6   12      353. \n 9 Georgia          9687653     10711908      10.6   13      170. \n10 Idaho            1567582      1839106      17.3   16       19.2\n# ℹ 38 more rows\n# ℹ 1 more variable: geometry &lt;MULTIPOLYGON [°]&gt;"
  },
  {
    "objectID": "MiniProject1.html#same-map-but-interactive",
    "href": "MiniProject1.html#same-map-but-interactive",
    "title": "Creating Informative Maps",
    "section": "Same Map, but Interactive!",
    "text": "Same Map, but Interactive!\n\n# First interactive plot\nbins &lt;- c(-20, -15, -10, -5, 0, 5, 10, 15, 20)\nmy_scale &lt;- colorRamp(c(\"red\", \"white\", \"#2aab32\"), interpolate=\"linear\")\npal &lt;- colorBin(palette = my_scale, domain = census_sf$perc_change, bins = bins)\n\ncensus_sf &lt;- census_sf |&gt;\n  mutate(labels = str_c(name, \": \", perc_change, \"% Change in Population\"))\n  labels &lt;- lapply(census_sf$labels, HTML)\n\nleaflet(census_sf) |&gt;\n  setView(-96, 37.8, 4) |&gt;\n  addTiles() |&gt;\n  addPolygons(\n    weight = 2,\n    opacity = 1,\n    color = \"black\",\n    fillColor = ~ pal(census_sf$perc_change),\n    dashArray = \"3\",\n    fillOpacity = 0.7,\n    highlightOptions = highlightOptions(\n      weight = 5,\n      color = \"#666\",\n      dashArray = \"\",\n      fillOpacity = 0.7,\n      bringToFront = TRUE),\n    label = labels,\n    labelOptions = labelOptions(\n      style = list(\"font-weight\" = \"normal\", padding = \"3px 8px\"),\n      textsize = \"15px\",\n      direction = \"auto\")) |&gt;\n  addLegend(pal = pal, \n            values = ~census_sf$perc_change, \n            opacity = 0.7, \n            title = \"% Change\", \n            position = \"bottomright\") |&gt;\n  addControl(\"&lt;h4&gt;Percentage Change in Population of The US, 2010 to 2020&lt;/h4&gt;\", \n             position = \"topright\", \n             className = \"map-title\")"
  },
  {
    "objectID": "MiniProject1.html#creaiting-legality-categories-based-on-legal-status-medicinal-and-decrimilized.",
    "href": "MiniProject1.html#creaiting-legality-categories-based-on-legal-status-medicinal-and-decrimilized.",
    "title": "Creating Informative Maps",
    "section": "Creaiting “legality” Categories based on Legal Status, Medicinal, and Decrimilized.",
    "text": "Creaiting “legality” Categories based on Legal Status, Medicinal, and Decrimilized.\n\n# Data wrangling pt. 2\nmarijuana_laws2024_sf &lt;- marijuana_laws2024 |&gt;\n  mutate(legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"Yes\" & \n                             Decriminalized == \"No\", \"Medicinal, not decriminalized\", LegalStatus),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"Yes\" & \n                             Decriminalized == \"Yes\", \"Medicinal, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"CBD Oil Only\" & \n                             Decriminalized == \"No\", \"CBD Oil Only, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"CBD Oil Only\" & \n                             Decriminalized == \"Yes\", \"CBD Oil Only, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Legalized\" & \n                             Decriminalized == \"Yes\", \"Legalized, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Legalized\" & \n                             Decriminalized == \"No\", \"Legalized, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Fully Illegal\" & \n                             Decriminalized == \"No\", \"Illegal, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Fully Illegal\" & \n                             Decriminalized == \"Yes\", \"Illegal, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Illegal, but decriminalized\" & \n                             Decriminalized == \"Yes\", \"Illegal, decriminalized\", legality),\n         LegalStatus = ifelse(LegalStatus == \"Fully Illegal\", \"Illegal\", LegalStatus),\n         LegalStatus = ifelse(LegalStatus == \"Illegal, but decriminalized\", \"Illegal\", LegalStatus)\n         ) |&gt;\n  rename(name = state) |&gt;\n  filter(!(name %in% c(\"Alaska\", \"Hawaii\", \"District of Columbia\", \"Puerto Rico\"))) |&gt;\n  left_join(states, join_by(name)) |&gt;\n  st_as_sf()\n\n\n# Second static plot\nggplot(marijuana_laws2024_sf) +\n  geom_sf(aes(fill = LegalStatus)) +\n  scale_fill_manual(values = c(\"#e41a1c\", \"#4daf4a\", \"#377eb8\")) +\n  labs(title = \"Legalization of Marijuana in the US 2022\",\n       fill = \"Legaility\",\n       caption = \"Source: https://worldpopulationreview.com/state-rankings/marijuana-laws-by-state\") +\n  theme_bw()\n\n\n\n\n\n\n\n\nThis is a map of the United States showing the legalization of marijuana in 2022. On the y-axis is longitude and on the x-axis is latitude. The categories of legality are “Illegal”, “Legalized”, and “Mixed”, with the associated colors on the map being red, green, and blue, respectively. There are 6 states where marijuana is illegal, these states are Idaho, Kansas, Nebraska, North and South Carolina, and Wyoming. On the map, 2 of these states are on the East Coast and the rest are in the middle of the US. For the rest of the US, marijuana is either legalized or has mixed laws. A lot of the states in the west have legalized marijuana, this includes Oregon, Washington, California, along with Nevada and Arizona. There are also some states on the East Coast have also legalized marijuana. Where as states in the south and in the Midwest have mixed laws. Note that this is data from 2022, and some states with mixed laws, are now fully legalized.\n\n# Second interactive plot\nmarijuana_laws2024_sf &lt;- marijuana_laws2024_sf |&gt;\n  mutate(labels = str_c(name, \": \", legality))\n\nlabels &lt;- lapply(marijuana_laws2024_sf$labels, HTML)\n\nlevels(marijuana_laws2024_sf$LegalStatus)\n\nNULL\n\nfactpal &lt;- colorFactor(c(\"#e41a1c\", \"#4daf4a\", \"#377eb8\"), \n                       levels(marijuana_laws2024_sf$LegalStatus))\n\nleaflet(marijuana_laws2024_sf) |&gt;\n  setView(-96, 37.8, 4) |&gt;\n  addTiles() |&gt;\n  addPolygons(\n    weight = 2,\n    opacity = 1,\n    color = \"black\",\n    fillColor = ~ factpal(marijuana_laws2024_sf$LegalStatus),\n    dashArray = \"3\",\n    fillOpacity = 0.7,\n    highlightOptions = highlightOptions(\n      weight = 5,\n      color = \"#666\",\n      dashArray = \"\",\n      fillOpacity = 0.7,\n      bringToFront = TRUE),\n    label = labels,\n    labelOptions = labelOptions(\n      style = list(\"font-weight\" = \"normal\", \n                   padding = \"3px 8px\"),\n      textsize = \"15px\",\n      direction = \"auto\")) |&gt;\n  addLegend(pal = factpal, \n            values = ~marijuana_laws2024_sf$LegalStatus, \n            opacity = 0.7, title = NULL, \n            position = \"bottomright\") |&gt;\n  addControl(\"&lt;h4&gt;Legalization of Marijuana in the US 2022&lt;/h4&gt;\", \n             position = \"topright\", \n             className = \"map-title\")"
  },
  {
    "objectID": "MiniProject1.html#creating-new-legality-column",
    "href": "MiniProject1.html#creating-new-legality-column",
    "title": "Creating Informative Maps",
    "section": "Creating New “legality” Column",
    "text": "Creating New “legality” Column\n\n# Data wrangling pt. 2\nmarijuana_laws2024_sf &lt;- marijuana_laws2024 |&gt;\n  mutate(legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"Yes\" & \n                             Decriminalized == \"No\", \"Medicinal, not decriminalized\", LegalStatus),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"Yes\" & \n                             Decriminalized == \"Yes\", \"Medicinal, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"CBD Oil Only\" & \n                             Decriminalized == \"No\", \"CBD Oil Only, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Mixed\" & \n                             Medicinal == \"CBD Oil Only\" & \n                             Decriminalized == \"Yes\", \"CBD Oil Only, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Legalized\" & \n                             Decriminalized == \"Yes\", \"Legalized, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Legalized\" & \n                             Decriminalized == \"No\", \"Legalized, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Fully Illegal\" & \n                             Decriminalized == \"No\", \"Illegal, not decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Fully Illegal\" & \n                             Decriminalized == \"Yes\", \"Illegal, decriminalized\", legality),\n         legality = ifelse(LegalStatus == \"Illegal, but decriminalized\" & \n                             Decriminalized == \"Yes\", \"Illegal, decriminalized\", legality),\n         LegalStatus = ifelse(LegalStatus == \"Fully Illegal\", \"Illegal\", LegalStatus),\n         LegalStatus = ifelse(LegalStatus == \"Illegal, but decriminalized\", \"Illegal\", LegalStatus)\n         ) |&gt;\n  rename(name = state) |&gt;\n  filter(!(name %in% c(\"Alaska\", \"Hawaii\", \"District of Columbia\", \"Puerto Rico\"))) |&gt;\n  left_join(states, join_by(name)) |&gt;\n  st_as_sf()\n\nmarijuana_laws2024_sf\n\nSimple feature collection with 48 features and 7 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -124.7066 ymin: 25.12078 xmax: -66.9796 ymax: 49.38362\nGeodetic CRS:  WGS 84\n# A tibble: 48 × 8\n   name        LegalStatus Medicinal    Decriminalized legality    id    density\n   &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;   &lt;dbl&gt;\n 1 Alabama     Mixed       Yes          No             Medicinal,… 01       94.6\n 2 Arizona     Legalized   Yes          Yes            Legalized,… 04       57.0\n 3 Arkansas    Mixed       Yes          No             Medicinal,… 05       56.4\n 4 California  Legalized   Yes          Yes            Legalized,… 06      242. \n 5 Colorado    Legalized   Yes          Yes            Legalized,… 08       49.3\n 6 Connecticut Legalized   Yes          Yes            Legalized,… 09      739. \n 7 Delaware    Legalized   Yes          Yes            Legalized,… 10      464. \n 8 Florida     Mixed       Yes          No             Medicinal,… 12      353. \n 9 Georgia     Mixed       CBD Oil Only No             CBD Oil On… 13      170. \n10 Idaho       Illegal     No           No             Illegal, n… 16       19.2\n# ℹ 38 more rows\n# ℹ 1 more variable: geometry &lt;MULTIPOLYGON [°]&gt;"
  },
  {
    "objectID": "MiniProject1.html#percentage-change-in-population-of-the-us-from-2010-to-2020",
    "href": "MiniProject1.html#percentage-change-in-population-of-the-us-from-2010-to-2020",
    "title": "Creating Informative Maps",
    "section": "Percentage Change in Population of the US from 2010 to 2020",
    "text": "Percentage Change in Population of the US from 2010 to 2020\n\n# First static plot\n  ggplot(census_sf) +\n  geom_sf(aes(fill = perc_change)) +\n  scale_fill_gradient2(\n    high = \"#2aab32\", \n    mid = \"white\",\n    low = \"red\",\n    limits = c(-15, 20)) +\n  labs(title = \"Percentage Change in Population of the US from 2010 to 2020\",\n       fill = \"% Change\",\n       caption = \" Source: data.census.gov\") +\n  theme_bw()\n\n\n\n\n\n\n\n\nThis is a map of the United States showing the percent change in population of the United States from 2010 to 2020 by state. On the y-axis is longitude and on the x-axis is latitude. Percent change varies from a decrease of -3% of the population to an increase of 18%, with red representing a decrease in population (a negative percentage) and green representing an increase in population (a positive percentage). We can see from this map that Utah, Idaho, and Texas had the largest percent increase in population. The states in the Midwest, such as Illinois, Iowa, Minnesota, South Dakota, Wisconsin, etc. (the 90W and 45N area), the states also had an increase in population however it is a smaller percentage. West Virginia is the only visible state that is red and this represents a decrease in population by 3.19%. For the population increase in states, this could be caused by people moving states, and more people in the United States overall."
  },
  {
    "objectID": "MiniProject1.html#legalization-of-marijuana-in-the-us-2022",
    "href": "MiniProject1.html#legalization-of-marijuana-in-the-us-2022",
    "title": "Creating Informative Maps",
    "section": "Legalization of Marijuana in the US 2022",
    "text": "Legalization of Marijuana in the US 2022\n\n# Second static plot\nggplot(marijuana_laws2024_sf) +\n  geom_sf(aes(fill = LegalStatus)) +\n  scale_fill_manual(values = c(\"#e41a1c\", \"#4daf4a\", \"#377eb8\")) +\n  labs(title = \"Legalization of Marijuana in the US 2022\",\n       fill = \"Legaility\",\n       caption = \"Source: https://worldpopulationreview.com/state-rankings/marijuana-laws-by-state\") +\n  theme_bw()\n\n\n\n\n\n\n\n\nThis is a map of the United States showing the legalization of marijuana in 2022. On the y-axis is longitude and on the x-axis is latitude. The categories of legality are “Illegal”, “Legalized”, and “Mixed”, with the associated colors on the map being red, green, and blue, respectively. There are 6 states where marijuana is illegal, these states are Idaho, Kansas, Nebraska, North and South Carolina, and Wyoming. On the map, 2 of these states are on the East Coast and the rest are in the middle of the US. For the rest of the US, marijuana is either legalized or has mixed laws. A lot of the states in the west have legalized marijuana, this includes Oregon, Washington, California, along with Nevada and Arizona. There are also some states on the East Coast have also legalized marijuana. Where as states in the south and in the Midwest have mixed laws. Note that this is data from 2022, and some states with mixed laws, are now fully legalized."
  },
  {
    "objectID": "MiniProject1.html#same-map-but-interactive-1",
    "href": "MiniProject1.html#same-map-but-interactive-1",
    "title": "Creating Informative Maps",
    "section": "Same Map, but Interactive!",
    "text": "Same Map, but Interactive!\n\n# Second interactive plot\nmarijuana_laws2024_sf &lt;- marijuana_laws2024_sf |&gt;\n  mutate(labels = str_c(name, \": \", legality))\n\nlabels &lt;- lapply(marijuana_laws2024_sf$labels, HTML)\n\nfactpal &lt;- colorFactor(c(\"#e41a1c\", \"#4daf4a\", \"#377eb8\"), \n                       levels(marijuana_laws2024_sf$LegalStatus))\n\nleaflet(marijuana_laws2024_sf) |&gt;\n  setView(-96, 37.8, 4) |&gt;\n  addTiles() |&gt;\n  addPolygons(\n    weight = 2,\n    opacity = 1,\n    color = \"black\",\n    fillColor = ~ factpal(marijuana_laws2024_sf$LegalStatus),\n    dashArray = \"3\",\n    fillOpacity = 0.7,\n    highlightOptions = highlightOptions(\n      weight = 5,\n      color = \"#666\",\n      dashArray = \"\",\n      fillOpacity = 0.7,\n      bringToFront = TRUE),\n    label = labels,\n    labelOptions = labelOptions(\n      style = list(\"font-weight\" = \"normal\", \n                   padding = \"3px 8px\"),\n      textsize = \"15px\",\n      direction = \"auto\")) |&gt;\n  addLegend(pal = factpal, \n            values = ~marijuana_laws2024_sf$LegalStatus, \n            opacity = 0.7, title = NULL, \n            position = \"bottomright\") |&gt;\n  addControl(\"&lt;h4&gt;Legalization of Marijuana in the US 2022&lt;/h4&gt;\", \n             position = \"topright\", \n             className = \"map-title\")"
  }
]